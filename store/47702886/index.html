<p></p>

<h3>定位</h3>
<p>mem cache 是 BearCache 的核心, 这一部分提供给 BearCache 整个缓存数据,
同时也用于隔离磁盘信息.</p>

<h3>接口</h3>
<p>mem cache 使用一定大小的块用于保存数据. mem cache 负责管理这些 块.
当向 mem cache 请求 read 的时候, 可以直接返回块, 也可以异步地返回块.
当write 的时候, 会直接返回, 数据块会直接保存到 mem cache 中.</p>

<p>当 mem cache 达到了一定的大小的情况下, 会把数据使用 lru 把一些块写入到磁盘中.
写入到磁盘的时候. 要向上层进行通知, 让上层可以知道, 块的状态.</p>

<p>mem cache 中的块有两种状态, 是否与磁盘同步.</p>

<p>同时 mem cache 还要支持 delete 这个可以快速地释放内存. 这个后期实现.</p>

<p>mem cache 只关心块的问题, 不关心文件的问题. 所以要实现一些机制让上层的
可以实现基于文件的管理.</p>

<p>所以增加一个刷新的顺序机制, 也就是当要同步一个块到磁盘的时候, 它会指定一个块必须也要
同步到磁盘中.</p>

<h3>管理</h3>
<p>先使用红黑树来实现对于块的管理.</p>

<h3>事件机制</h3>
<p>使用 aio 对于磁盘进行操作, 所以必须有事件机制.</p>
