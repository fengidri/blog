%title: glibc与系统缓冲区

用printf()输出时是先输出到缓冲区，然后再从缓冲区送到屏幕上。那什么情况下才会将缓
冲区里的内容送到屏幕上呢？

一. 使用fflush（stdout）强制刷新。
二. 缓冲区已满。
三.  scanf()要在缓冲区里取数据时会先将缓冲区刷新。
四. \n,\r进入缓冲区时。
五. 线程结束 的时候，如果该线程里也有printf(....);
六. 程序结束时。


当输出重定向到文件, 输出到屏幕上两者是有区别的.
因为一个是从libc的缓冲区直接写到stty中, 另一个是写到系统的块设备缓冲区中.




#include <stdio.h>
#include <time.h>
main(){
        while(1){
        printf("Test\n");
        sleep(1);
}
}
