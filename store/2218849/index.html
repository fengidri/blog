


<h3>出身</h3>
<p>1990年Paxos算法是莱斯利·兰伯特(LaTeX 中的开发者，此人现在在微软研究院).于提出的一种基于消息传递的一致性算法。这个算法被认为是类似算法中最有效的。</p><p></p>
<ul>
<li>1990: 由于算法难以理解起初并没有引起人们的重视.</li>
<li>1998: Lamport在1998年重新发表到ACMTransactions on Computer Systems上（The Part-Time Parliament）。即便如此paxos算法还是没有得到重视，</p><p></li>
<li>2001: Lamport 觉得同行无法接受他的幽默感，于是用容易接受的方法重新表述了一遍（Paxos Made Simple）.</p><p>可见Lamport对Paxos算法情有独钟。近几年Paxos算法的普遍使用也证明它在分布式一致性算法中的重要地位。</p><p></li>
<li>2006: Google的三篇论文初现“云”的端倪，其中的Chubby Lock服务使用Paxos作为Chubby Cell中的一致性算法.</li>
</ul>
<p>
Paxos的人气从此一路狂飙。</p><p>（Lamport 本人在 他的blog 中描写了他用9年时间发表这个算法的前前后后）</p><p>

<h3>Paxos 故事</h3>
<p>希腊岛屿Paxon 上的执法者（legislators，后面称为牧师priest）在议会大厅（chamber）中表决通过法律，并通过服务员传递纸条的方式交流信息，每个执法者会将通过的法律记录在自己的账目（ledger）上。问题在于执法者和服务员都不可靠，他们随时会因为各种事情离开议会大厅，并随时可能有新的执法者（或者是刚暂时离开的）回到议会大厅进行法律表决，使用何种方式能够使得这个表决过程正常进行，且通过的法律不发生矛盾。</p><p>

<h3>Paxos是什么？</h3>
<p>Paxos 算法是分布式一致性算法用来解决一个分布式系统如何就某个值(决议)达成一致的问题。</p><p>一个典型的场景是，在一个分布式数据库系统中，如果各节点的初始状态一致，每个节点都执行相同的操作序列，那么他们最后能得到一个一致的状态1。为保证每个节点执行相同的命令序列，需要在每一条指令上执行一个"一致性算法"以保证每个节点看到的指令一致。</p><p>这里想提一下一些中文的paxos算法理解的文章中用分布式系统竞争锁的场景作例子介绍paxos算法的过程，就我个人感觉不是很合适，因为paxos算法是一个较高效的一致性算法，和传统的分布式锁算法还是不太一样的，比如RA算法，它和单机上的加锁解锁有一个最大的共同点就是有很明显的“请求--等待”的过程，而paxos算法每一个实例之间相对独立，选举过程可以平行执行，后发生的实例是可以再先发生的实例之前表决的，并没有明显的“请求--等待”的感觉。在具体的应用时，分布式锁算法更多的是“互斥”的感觉，一致性算法更多的是“同步”的感觉。</p><p> </p><p> </p><p>

<h3>Paxos适合什么场合？</h3>
<p>参考转载的《Paxos算法在大型系统中常见的应用场景》，在chubby中paxos用于保持chubby cell内部所有主机操作序列的一致性，同时也用于选举出chubby cell中的master或者说是leader。</p><p> </p><p> </p><p>

<h3>Paxos的实现</h3>
<p>chubby中有paxos的具体实现可惜看不到代码，表现形式也不确定，可能是以库的形式提供也可能散布在程序的很多地方。现在手里能拿到的一个是sourceforge上的开源库libpaxos，作者是一位意大利的帅小伙Marco。和Marco交流后发现他对paxos的理解确实挺深的。虽然libpaxos现在还没得到商用，但感觉还是挺有前途的；</p><p>另一个实现是在北大天网实验室的类chubby实现---debby，是使用ICE现实的，看过之后总觉得有些不太通顺的地方，似乎代码的实现并没有严格遵循paxos算法（很可能是本人水平不足，没看出其中的玄机）;</p><p>还有一个是Diskless Paxos的实现，不使用disk保存状态怎么实现各个角色的“可重启”呢？还没时间研究，应该还是挺有意思的；</p><p>除了这些，在google code上有paxos的java实现，BerkeleyDB的复制也有使用了paxos算法。在本系列的后续文章中将重点介绍对其中一些实现的理解，以及给libpaxos做跨windows平台移植遇到的问题。</p><p> </p><p> </p><p>

<h3>参考</h3>
<p>http://www.cnblogs.com/ychellboy/archive/2009/12/29/1634685.html</p><p>